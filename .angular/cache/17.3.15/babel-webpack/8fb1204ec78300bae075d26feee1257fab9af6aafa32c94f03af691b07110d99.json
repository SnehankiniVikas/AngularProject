{"ast":null,"code":"import { FileUploadDialog } from './dialogs/file-upload-dialog';\nimport { ReleaseConfirmationDialog } from './dialogs/release-confirmation-dialog';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"../../../services/tasks.service\";\nimport * as i3 from \"@angular/common\";\nfunction TasksComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelement(1, \"div\", 7);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Loading tasks...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction TasksComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function TasksComponent_div_6_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.loadTasks());\n    });\n    i0.ɵɵtext(4, \"Retry\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.error);\n  }\n}\nfunction TasksComponent_div_7_div_7_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"p\", 15);\n    i0.ɵɵtext(2, \"Currently, you don't have any pending tasks\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction TasksComponent_div_7_div_7_div_3_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function TasksComponent_div_7_div_7_div_3_button_6_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const task_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      $event.stopPropagation();\n      return i0.ɵɵresetView(ctx_r1.showReleaseConfirmation(task_r5));\n    });\n    i0.ɵɵtext(1, \" RELEASE TO FM \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const task_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"enabled\", ctx_r1.canRelease(task_r5));\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.canRelease(task_r5));\n  }\n}\nfunction TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const subtask_r8 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r1.showUploadModal(subtask_r8));\n    });\n    i0.ɵɵtext(1, \" UPLOAD \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_div_2_div_6_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_div_2_div_6_ng_container_1_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const subtask_r8 = i0.ɵɵnextContext(4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r1.reviewFile(subtask_r8));\n    });\n    i0.ɵɵtext(2, \"REVIEW\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_div_2_div_6_ng_container_1_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const subtask_r8 = i0.ɵɵnextContext(4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r1.reuploadFile(subtask_r8));\n    });\n    i0.ɵɵtext(4, \"REUPLOAD\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_div_2_div_6_ng_container_1_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const subtask_r8 = i0.ɵɵnextContext(4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r1.deleteFile(subtask_r8));\n    });\n    i0.ɵɵtext(6, \"DELETE\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_div_2_div_6_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_div_2_div_6_ng_container_2_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const subtask_r8 = i0.ɵɵnextContext(4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r1.downloadFile(subtask_r8));\n    });\n    i0.ɵɵtext(2, \"DOWNLOAD\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_div_2_div_6_ng_container_2_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const subtask_r8 = i0.ɵɵnextContext(4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r1.reuploadFile(subtask_r8));\n    });\n    i0.ɵɵtext(4, \"REUPLOAD\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_div_2_div_6_ng_container_2_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const subtask_r8 = i0.ɵɵnextContext(4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r1.deleteFile(subtask_r8));\n    });\n    i0.ɵɵtext(6, \"DELETE\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_div_2_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41);\n    i0.ɵɵtemplate(1, TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_div_2_div_6_ng_container_1_Template, 7, 0, \"ng-container\", 5)(2, TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_div_2_div_6_ng_container_2_Template, 7, 0, \"ng-container\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const subtask_r8 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", subtask_r8.title.includes(\"Annual Inspection Form\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", subtask_r8.title.includes(\"Rent Roll\"));\n  }\n}\nfunction TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_div_2_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const subtask_r8 = i0.ɵɵnextContext(2).$implicit;\n      return i0.ɵɵresetView(subtask_r8.showMenu = !subtask_r8.showMenu);\n    });\n    i0.ɵɵelementStart(2, \"div\", 38);\n    i0.ɵɵelement(3, \"div\", 39)(4, \"div\", 39)(5, \"div\", 39);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(6, TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_div_2_div_6_Template, 3, 2, \"div\", 40);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const subtask_r8 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", subtask_r8.showMenu);\n  }\n}\nfunction TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_button_1_Template, 2, 0, \"button\", 33)(2, TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_div_2_Template, 7, 1, \"div\", 34);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const subtask_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !subtask_r8.selectedFile);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", subtask_r8.selectedFile);\n  }\n}\nfunction TasksComponent_div_7_div_7_div_3_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 27)(2, \"div\", 28);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 29)(5, \"div\", 30)(6, \"span\", 31);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 32);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(10, TasksComponent_div_7_div_7_div_3_div_8_div_1_ng_container_10_Template, 3, 2, \"ng-container\", 5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const subtask_r8 = ctx.$implicit;\n    const task_r5 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Posted: \", ctx_r1.formatDate(task_r5.date), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(subtask_r8.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Updated: \", subtask_r8.updated, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !subtask_r8.title.includes(\"Update Open Items\"));\n  }\n}\nfunction TasksComponent_div_7_div_7_div_3_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtemplate(1, TasksComponent_div_7_div_7_div_3_div_8_div_1_Template, 11, 4, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const task_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", task_r5.subtasks);\n  }\n}\nfunction TasksComponent_div_7_div_7_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"div\", 17);\n    i0.ɵɵlistener(\"click\", function TasksComponent_div_7_div_7_div_3_Template_div_click_1_listener() {\n      const task_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      return i0.ɵɵresetView(task_r5.expanded = !task_r5.expanded);\n    });\n    i0.ɵɵelementStart(2, \"div\", 18)(3, \"span\", 19);\n    i0.ɵɵtext(4, \"\\u25BC\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, TasksComponent_div_7_div_7_div_3_button_6_Template, 2, 3, \"button\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 21);\n    i0.ɵɵtemplate(8, TasksComponent_div_7_div_7_div_3_div_8_Template, 2, 1, \"div\", 22);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const task_r5 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"expanded\", task_r5.expanded);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", task_r5.title, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", task_r5.title.includes(\"Annual Inspection\"));\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"expanded\", task_r5.expanded);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", task_r5.subtasks);\n  }\n}\nfunction TasksComponent_div_7_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, TasksComponent_div_7_div_7_ng_container_1_Template, 3, 0, \"ng-container\", 5);\n    i0.ɵɵelementStart(2, \"div\", 13);\n    i0.ɵɵtemplate(3, TasksComponent_div_7_div_7_div_3_Template, 9, 7, \"div\", 14);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.pendingTasks.length === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.pendingTasks);\n  }\n}\nfunction TasksComponent_div_7_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44)(1, \"div\", 45)(2, \"span\", 46);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 47);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const task_r12 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(task_r12.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.formatDate(task_r12.date));\n  }\n}\nfunction TasksComponent_div_7_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, TasksComponent_div_7_div_8_div_1_Template, 6, 2, \"div\", 43);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.completedTasks);\n  }\n}\nfunction TasksComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 10)(2, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function TasksComponent_div_7_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.setActiveTab(\"pending\"));\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function TasksComponent_div_7_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.setActiveTab(\"completed\"));\n    });\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 12);\n    i0.ɵɵtemplate(7, TasksComponent_div_7_div_7_Template, 4, 2, \"div\", 5)(8, TasksComponent_div_7_div_8_Template, 2, 1, \"div\", 5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"active\", ctx_r1.activeTab === \"pending\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" PENDING (\", ctx_r1.pendingTasks.length, \") \");\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"active\", ctx_r1.activeTab === \"completed\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" COMPLETED (\", ctx_r1.completedTasks.length, \") \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.activeTab === \"pending\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.activeTab === \"completed\");\n  }\n}\nexport let TasksComponent = /*#__PURE__*/(() => {\n  class TasksComponent {\n    constructor(dialog, tasksService) {\n      this.dialog = dialog;\n      this.tasksService = tasksService;\n      this.activeTab = 'pending';\n      this.allTasks = [];\n      this.loading = true;\n      this.error = null;\n      this.showSuccessMessage = false;\n      this.successMessage = \"You've successfully uploaded the file\";\n    }\n    get pendingTasks() {\n      return this.allTasks.filter(task => task.status === 'pending');\n    }\n    get completedTasks() {\n      return this.allTasks.filter(task => task.status === 'completed');\n    }\n    ngOnInit() {\n      this.loadTasks();\n    }\n    loadTasks() {\n      this.loading = true;\n      this.error = null;\n      this.tasksService.getTasks().subscribe({\n        next: tasks => {\n          this.allTasks = tasks.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n          this.loading = false;\n        },\n        error: err => {\n          this.error = 'Failed to load tasks. Please try again.';\n          this.loading = false;\n          console.error('Error loading tasks:', err);\n        }\n      });\n    }\n    setActiveTab(tab) {\n      this.activeTab = tab;\n    }\n    formatDate(dateString) {\n      return new Date(dateString).toLocaleDateString('en-US', {\n        month: '2-digit',\n        day: '2-digit',\n        year: 'numeric'\n      });\n    }\n    showUploadModal(subtask) {\n      const dialogRef = this.dialog.open(FileUploadDialog, {\n        width: '500px',\n        data: {\n          title: subtask.title\n        },\n        panelClass: 'upload-dialog-container',\n        position: {\n          top: '20%'\n        },\n        hasBackdrop: true,\n        backdropClass: 'upload-dialog-backdrop'\n      });\n      dialogRef.afterClosed().subscribe(result => {\n        if (result) {\n          subtask.selectedFile = {\n            name: result.name,\n            type: result.type || 'application/vnd.ms-excel',\n            size: result.size,\n            lastModified: result.lastModified\n          };\n          this.showSuccessMessage = true;\n          this.successMessage = \"You've successfully uploaded the file\";\n          if (this.successMessageTimeout) {\n            clearTimeout(this.successMessageTimeout);\n          }\n          this.successMessageTimeout = setTimeout(() => {\n            this.hideSuccessMessage();\n          }, 5000);\n        }\n      });\n    }\n    hideSuccessMessage() {\n      this.showSuccessMessage = false;\n      if (this.successMessageTimeout) {\n        clearTimeout(this.successMessageTimeout);\n      }\n    }\n    canRelease(task) {\n      if (!task.subtasks) return false;\n      const requiredFiles = ['Upload Annual Inspection Form (MBA Form)', 'Upload Rent Roll'];\n      return task.subtasks.filter(subtask => requiredFiles.includes(subtask.title)).every(subtask => subtask.selectedFile);\n    }\n    showReleaseConfirmation(task) {\n      const dialogRef = this.dialog.open(ReleaseConfirmationDialog, {\n        width: '600px',\n        disableClose: true,\n        panelClass: 'release-dialog-container',\n        position: {\n          top: '20%'\n        }\n      });\n      dialogRef.afterClosed().subscribe(confirmed => {\n        if (confirmed) {\n          this.releaseToFM(task);\n        }\n      });\n    }\n    releaseToFM(task) {\n      this.tasksService.releaseToFM(task.id).subscribe({\n        next: updatedTask => {\n          this.allTasks = this.allTasks.map(t => t.id === updatedTask.id ? updatedTask : t);\n          this.showSuccessMessage = true;\n          this.successMessage = \"Task has been successfully released to FM\";\n          if (this.successMessageTimeout) {\n            clearTimeout(this.successMessageTimeout);\n          }\n          this.successMessageTimeout = setTimeout(() => {\n            this.hideSuccessMessage();\n          }, 5000);\n        },\n        error: err => {\n          console.error('Error releasing task to FM:', err);\n          this.error = 'Failed to release task to FM. Please try again.';\n        }\n      });\n    }\n    reviewFile(subtask) {\n      console.log('Reviewing file:', subtask.selectedFile);\n    }\n    downloadFile(subtask) {\n      console.log('Downloading file:', subtask.selectedFile);\n    }\n    reuploadFile(subtask) {\n      this.showUploadModal(subtask);\n    }\n    deleteFile(subtask) {\n      subtask.selectedFile = null;\n    }\n    static {\n      this.ɵfac = function TasksComponent_Factory(t) {\n        return new (t || TasksComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.TasksService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: TasksComponent,\n        selectors: [[\"app-tasks\"]],\n        decls: 8,\n        vars: 3,\n        consts: [[1, \"tasks-card\"], [1, \"tasks-header\"], [1, \"tasks-content\"], [\"class\", \"loading-state\", 4, \"ngIf\"], [\"class\", \"error-state\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"loading-state\"], [1, \"spinner\"], [1, \"error-state\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"tabs\"], [1, \"tab-button\", 3, \"click\"], [1, \"tab-content\"], [1, \"accordion\"], [\"class\", \"accordion-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"empty-state\"], [1, \"accordion-item\"], [1, \"accordion-header\", 3, \"click\"], [1, \"accordion-title\"], [1, \"expand-icon\"], [\"class\", \"btn btn-release\", 3, \"enabled\", \"disabled\", \"click\", 4, \"ngIf\"], [1, \"accordion-content\"], [\"class\", \"subtasks-list\", 4, \"ngIf\"], [1, \"btn\", \"btn-release\", 3, \"click\", \"disabled\"], [1, \"subtasks-list\"], [\"class\", \"subtask-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"subtask-item\"], [1, \"subtask-content\"], [1, \"posted-column\"], [1, \"content-column\"], [1, \"subtask-info\"], [1, \"subtask-title\"], [1, \"subtask-date\"], [\"class\", \"btn btn-upload\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"dropdown\", 4, \"ngIf\"], [1, \"btn\", \"btn-upload\", 3, \"click\"], [1, \"dropdown\"], [1, \"btn-dots\", 3, \"click\"], [1, \"dots\"], [1, \"dot\"], [\"class\", \"dropdown-menu\", 4, \"ngIf\"], [1, \"dropdown-menu\"], [1, \"dropdown-item\", 3, \"click\"], [\"class\", \"task-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"task-item\"], [1, \"task-header\"], [1, \"task-title\"], [1, \"posted-date\"]],\n        template: function TasksComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n            i0.ɵɵtext(3, \"Tasks\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(4, \"div\", 2);\n            i0.ɵɵtemplate(5, TasksComponent_div_5_Template, 4, 0, \"div\", 3)(6, TasksComponent_div_6_Template, 5, 1, \"div\", 4)(7, TasksComponent_div_7_Template, 9, 8, \"div\", 5);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.error);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.error);\n          }\n        },\n        dependencies: [i3.NgForOf, i3.NgIf],\n        styles: [\"[_nghost-%COMP%]{display:block;width:100%}.tasks-card[_ngcontent-%COMP%]{background:#fff;border-radius:4px;box-shadow:0 1px 3px #0000001a}.tasks-header[_ngcontent-%COMP%]{padding:16px 24px;border-bottom:1px solid #e2e8f0}.tasks-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:500;color:#2d3748}.tasks-content[_ngcontent-%COMP%]{padding:24px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;text-align:center}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #f3f3f3;border-top:3px solid #3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:#718096}.error-state[_ngcontent-%COMP%]{text-align:center;padding:48px;color:#e53e3e}.error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:16px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px;color:#718096}.tabs[_ngcontent-%COMP%]{display:flex;gap:4px;border-bottom:1px solid #e2e8f0;margin-bottom:16px;background:#fff}.tab-button[_ngcontent-%COMP%]{padding:12px 24px;border:none;background:none;cursor:pointer;font-size:14px;color:#718096;border-bottom:2px solid transparent;transition:all .2s}.tab-button[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.tab-button.active[_ngcontent-%COMP%]{border-bottom-color:#3b82f6;color:#3b82f6}.accordion[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.accordion-item[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:4px}.accordion-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;cursor:pointer;background:#fff}.accordion-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#2d3748;font-weight:500}.expand-icon[_ngcontent-%COMP%]{font-size:12px;transition:transform .2s}.expand-icon.expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}.accordion-content[_ngcontent-%COMP%]{display:none;padding:16px;background:#f8fafc}.accordion-content.expanded[_ngcontent-%COMP%]{display:block}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#2563eb}.btn-release[_ngcontent-%COMP%]{background:#718096;color:#fff}.btn-release.enabled[_ngcontent-%COMP%]{background:#3e526a}.btn-release[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-upload[_ngcontent-%COMP%]{background:#2d3748;color:#fff}.btn-upload[_ngcontent-%COMP%]:hover{background:#1a202c}.dropdown[_ngcontent-%COMP%]{position:relative}.btn-dots[_ngcontent-%COMP%]{padding:4px;background:none;border:none;cursor:pointer}.dots[_ngcontent-%COMP%]{display:flex;gap:4px}.dot[_ngcontent-%COMP%]{width:4px;height:4px;background:#2d3748;border-radius:50%}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background:#fff;border:1px solid #e2e8f0;border-radius:4px;box-shadow:0 2px 4px #0000001a;min-width:120px;z-index:1000}.dropdown-item[_ngcontent-%COMP%]{display:block;width:100%;padding:8px 16px;border:none;background:none;text-align:left;cursor:pointer;color:#2d3748;font-size:14px}.dropdown-item[_ngcontent-%COMP%]:hover{background:#f8fafc}.subtasks-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.subtask-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:140px 1fr;gap:24px;align-items:center;background:#fff;padding:16px;border-radius:4px}.posted-column[_ngcontent-%COMP%]{color:#718096;font-size:12px}.content-column[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px}.subtask-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.subtask-title[_ngcontent-%COMP%]{color:#2d3748;font-size:14px}.subtask-date[_ngcontent-%COMP%]{color:#718096;font-size:12px}.task-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;background:#fff;border-radius:4px}.task-title[_ngcontent-%COMP%]{color:#2d3748;font-weight:500;font-size:14px}.posted-date[_ngcontent-%COMP%]{color:#718096;font-size:12px}\"]\n      });\n    }\n  }\n  return TasksComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}