{"ast":null,"code":"import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nfunction FileUploadDialog_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 9);\n    i0.ɵɵlistener(\"dragover\", function FileUploadDialog_ng_container_3_Template_div_dragover_1_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onDragOver($event));\n    })(\"dragleave\", function FileUploadDialog_ng_container_3_Template_div_dragleave_1_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onDragLeave($event));\n    })(\"drop\", function FileUploadDialog_ng_container_3_Template_div_drop_1_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onDrop($event));\n    })(\"click\", function FileUploadDialog_ng_container_3_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const fileInput_r3 = i0.ɵɵreference(7);\n      return i0.ɵɵresetView(fileInput_r3.click());\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"cloud_upload\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Drop your file here or click to browse\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 10, 0);\n    i0.ɵɵlistener(\"change\", function FileUploadDialog_ng_container_3_Template_input_change_6_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onFileSelected($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"drag-over\", ctx_r1.isDragOver);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"accept\", \".xlsx,.xls\");\n  }\n}\nfunction FileUploadDialog_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 11)(2, \"div\", 12)(3, \"span\", 13);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 14)(6, \"span\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9, \"|\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\");\n    i0.ɵɵtext(13, \"|\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"span\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"div\", 15)(17, \"button\", 16)(18, \"mat-icon\");\n    i0.ɵɵtext(19, \"check_circle\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function FileUploadDialog_ng_container_11_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.removeFile());\n    });\n    i0.ɵɵelementStart(21, \"mat-icon\");\n    i0.ɵɵtext(22, \"delete\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.selectedFile.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\".\", ctx_r1.selectedFile.name.split(\".\").pop(), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.formatFileSize(ctx_r1.selectedFile.size));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.formatDate(ctx_r1.selectedFile.lastModified));\n  }\n}\nexport let FileUploadDialog = /*#__PURE__*/(() => {\n  class FileUploadDialog {\n    constructor(dialogRef, data) {\n      this.dialogRef = dialogRef;\n      this.data = data;\n      this.selectedFile = null;\n      this.isDragOver = false;\n    }\n    onFileSelected(event) {\n      const file = event.target.files[0];\n      if (file && (file.name.endsWith('.xlsx') || file.name.endsWith('.xls'))) {\n        this.selectedFile = file;\n      }\n    }\n    onDragOver(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.isDragOver = true;\n    }\n    onDragLeave(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.isDragOver = false;\n    }\n    onDrop(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.isDragOver = false;\n      const files = event.dataTransfer?.files;\n      if (files?.length) {\n        const file = files[0];\n        if (file.name.endsWith('.xlsx') || file.name.endsWith('.xls')) {\n          this.selectedFile = file;\n        }\n      }\n    }\n    onCancel() {\n      this.dialogRef.close();\n    }\n    onUpload() {\n      if (this.selectedFile) {\n        this.dialogRef.close(this.selectedFile);\n      }\n    }\n    removeFile() {\n      this.selectedFile = null;\n    }\n    formatFileSize(bytes) {\n      if (bytes === 0) return '0 Bytes';\n      const k = 1024;\n      const sizes = ['Bytes', 'kb', 'Mb', 'Gb'];\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(0)) + sizes[i];\n    }\n    formatDate(timestamp) {\n      return new Date(timestamp).toLocaleString('en-US', {\n        month: '2-digit',\n        day: '2-digit',\n        year: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit',\n        hour12: true\n      });\n    }\n    static {\n      this.ɵfac = function FileUploadDialog_Factory(t) {\n        return new (t || FileUploadDialog)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: FileUploadDialog,\n        selectors: [[\"app-file-upload-dialog\"]],\n        decls: 17,\n        vars: 4,\n        consts: [[\"fileInput\", \"\"], [1, \"upload-dialog\"], [4, \"ngIf\"], [1, \"file-info\"], [\"matTooltip\", \"Only Excel files are supported\", \"matTooltipPosition\", \"above\", 1, \"info-icon\"], [1, \"separator\"], [1, \"dialog-actions\"], [\"mat-button\", \"\", 1, \"cancel-button\", 3, \"click\"], [\"mat-flat-button\", \"\", 1, \"upload-button\", 3, \"click\", \"disabled\"], [1, \"upload-area\", 3, \"dragover\", \"dragleave\", \"drop\", \"click\"], [\"type\", \"file\", 2, \"display\", \"none\", 3, \"change\", \"accept\"], [1, \"selected-file\"], [1, \"file-details\"], [1, \"file-name\"], [1, \"file-meta\"], [1, \"file-actions\"], [\"mat-icon-button\", \"\", 1, \"success-icon\"], [\"mat-icon-button\", \"\", 1, \"delete-icon\", 3, \"click\"]],\n        template: function FileUploadDialog_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 1)(1, \"h2\");\n            i0.ɵɵtext(2);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(3, FileUploadDialog_ng_container_3_Template, 8, 3, \"ng-container\", 2);\n            i0.ɵɵelementStart(4, \"div\", 3)(5, \"mat-icon\", 4);\n            i0.ɵɵtext(6, \"info\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"span\");\n            i0.ɵɵtext(8, \"File Types: .xlsx, xls\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"span\", 5);\n            i0.ɵɵtext(10, \"Max Size: 50Mb\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(11, FileUploadDialog_ng_container_11_Template, 23, 4, \"ng-container\", 2);\n            i0.ɵɵelementStart(12, \"div\", 6)(13, \"button\", 7);\n            i0.ɵɵlistener(\"click\", function FileUploadDialog_Template_button_click_13_listener() {\n              return ctx.onCancel();\n            });\n            i0.ɵɵtext(14, \"CANCEL\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"button\", 8);\n            i0.ɵɵlistener(\"click\", function FileUploadDialog_Template_button_click_15_listener() {\n              return ctx.onUpload();\n            });\n            i0.ɵɵtext(16, \" UPLOAD \");\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate(ctx.data.title);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.selectedFile);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngIf\", ctx.selectedFile);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"disabled\", !ctx.selectedFile);\n          }\n        },\n        styles: [\".upload-dialog[_ngcontent-%COMP%]{padding:24px;width:500px;background:#fff;border-radius:8px}h2[_ngcontent-%COMP%]{margin:0 0 24px;font-size:20px;font-weight:500;color:#1a202c}.upload-area[_ngcontent-%COMP%]{border:2px dashed #cbd5e0;border-radius:4px;padding:40px;text-align:center;cursor:pointer;transition:all .2s;background:#f7fafc;margin-bottom:16px;min-height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center}.upload-area.drag-over[_ngcontent-%COMP%], .upload-area[_ngcontent-%COMP%]:hover{border-color:#4299e1;background:#ebf8ff}.upload-area[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#4a5568;margin-bottom:16px}.upload-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#4a5568;font-size:16px}.file-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#718096;font-size:14px;margin-bottom:16px}.info-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#4299e1}.separator[_ngcontent-%COMP%]{margin-left:16px}.selected-file[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:4px;padding:16px;display:flex;justify-content:space-between;align-items:center;background:#f7fafc;margin-bottom:16px}.file-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.file-name[_ngcontent-%COMP%]{color:#2d3748;font-size:14px;font-weight:500}.file-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#718096;font-size:12px}.file-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.success-icon[_ngcontent-%COMP%]{color:#48bb78!important}.delete-icon[_ngcontent-%COMP%]{color:#e53e3e!important}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px}.cancel-button[_ngcontent-%COMP%]{color:#4a5568!important}.upload-button[_ngcontent-%COMP%]{background-color:#2d3748!important;color:#fff!important}.upload-button[_ngcontent-%COMP%]:disabled{background-color:#cbd5e0!important;color:#a0aec0!important}\"]\n      });\n    }\n  }\n  return FileUploadDialog;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}